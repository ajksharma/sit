This is the draft patch mentioned above. It doesn't cover
all conventions like reducers, etc.
